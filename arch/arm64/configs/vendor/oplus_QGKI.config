CONFIG_OPLUS_FEATURE_UFS=y
CONFIG_OPLUS_FEATURE_UFS_DRIVER=y
#endif /* OPLUS_FEATURE_UFS_DRIVER */
CONFIG_CHR_DEV_SG=y
CONFIG_CRYPTO_SHA1_ARM64_CE=y
#ifdef OPLUS_FEATURE_EXFAT_SUPPORT
CONFIG_EXFAT_FS=y
#endif
#ifdef OPLUS_FEATURE_EMMC_SDCARD_OPTIMIZE
CONFIG_EMMC_SDCARD_OPTIMIZE=y
#endif
#ifdef OPLUS_FEATURE_UFS_DRIVER
CONFIG_OPLUS_UFS_DRIVER=y
#endif
#ifdef OPLUS_STORAGE_STABILITY
CONFIG_OPLUS_STORAGE_STABILITY=y
#endif
CONFIG_QTI_DEVFREQ_VDD_COOLING_DEVICE=y
#ifdef OPLUS_BUG_STABILITY
CONFIG_DRM_MSM=y
#endif /* OPLUS_BUG_STABILITY */
CONFIG_QCOM_DYN_MINIDUMP_STACK=y
CONFIG_QCOM_MINIDUMP_PANIC_CPU_CONTEXT=y
#thermal statistics is not used currently
CONFIG_THERMAL_STATISTICS=n
CONFIG_MSM_PERFORMANCE=y
# CONFIG_USB_CONFIGFS_RNDIS is not set
CONFIG_QCOM_INITIAL_LOGBUF=y
CONFIG_QCOM_MINIDUMP_FTRACE=y
CONFIG_QCOM_MINIDUMP_PANIC_DUMP=y
CONFIG_QCOM_IRQ_STAT=y
CONFIG_PSTORE_PMSG=y

#ifdef OPLUS_FEATURE_NWPOWER
CONFIG_OPLUS_FEATURE_NWPOWER=y
#endif /* OPLUS_FEATURE_NWPOWER */

# DFR feature config start
CONFIG_OPLUS_FEATURE_OPROJECT=y
CONFIG_OPLUS_FEATURE_UBOOT_LOG=y
CONFIG_OPLUS_FEATURE_QCOM_PMICWD=y
CONFIG_OPLUS_FEATURE_QCOM_WATCHDOG=y
CONFIG_OPLUS_FEATURE_THEIA=y
CONFIG_OPLUS_FEATURE_PMIC_MONITOR=y
CONFIG_OPLUS_FEATURE_AGINGTEST=y
CONFIG_OPLUS_FEATURE_DUMP_REASON=y
CONFIG_OPLUS_FEATURE_SHUTDOWN_DETECT=y
#CONFIG_OPLUS_FEATURE_SLABTRACE_DEBUG=y
# CONFIG_OPLUS_FEATURE_QCOM_MINIDUMP_ENHANCE is not set
CONFIG_OPLUS_FEATURE_FEEDBACK=y
CONFIG_OPLUS_FEATURE_PHOENIX=y
CONFIG_DETECT_HUNG_TASK=y
CONFIG_OPLUS_FEATURE_HUNG_TASK_ENHANCE=y
CONFIG_DEFAULT_HUNG_TASK_TIMEOUT=60
CONFIG_OPLUS_FEATURE_PANIC_FLUSH=y
CONFIG_OPLUS_FEATURE_PROJECTINFO=y
CONFIG_OPLUS_FEATURE_DUMP_DEVICE_INFO=y
CONFIG_OPLUS_FEATURE_PHOENIX_REBOOT_SPEED=y
CONFIG_OPLUS_FEATURE_SHUTDOWN_SPEED=y
CONFIG_OPLUS_FEATURE_KMSG_WB=y
CONFIG_PSTORE=y
CONFIG_PSTORE_CONSOLE=y
CONFIG_PSTORE_PMSG=y
CONFIG_PSTORE_RAM=y
# DFR feature config end

#ifdef OPLUS_BUG_STABILITY
CONFIG_OPLUS_BT_BUG_STABILITY=y
#endif /* OPLUS_BUG_STABILITY */

#ifdef OPLUS_FEATURE_CHG_BASIC
CONFIG_TCPC_CLASS=y
CONFIG_TCPC_RT1711H=y
CONFIG_USB_POWER_DELIVERY=y
CONFIG_OPLUS_CHG=y
CONFIG_OPLUS_SM4350R_CHARGER=y
CONFIG_OPLUS_SM6375R_CHARGER=y
CONFIG_OPLUS_SHORT_HW_CHECK=y
CONFIG_OPLUS_SHORT_USERSPACE=y
CONFIG_OPLUS_SHIP_MODE_SUPPORT=y
CONFIG_OPLUS_SMART_CHARGER_SUPPORT=y
CONFIG_OPLUS_SHORT_C_BATT_CHECK=y
#CONFIG_OPLUS_CHECK_CHARGERID_VOLT=y
CONFIG_OPLUS_SMART_CHARGER_SUPPORT=y
CONFIG_OPLUS_SHORT_IC_CHECK=y
CONFIG_OPLUS_CHIP_SOC_NODE=y
CONFIG_HID_SONY=y
CONFIG_SONY_FF=y
CONFIG_HID_BETOP_FF=y
CONFIG_INPUT_JOYSTICK=y
CONFIG_JOYSTICK_XPAD=y
CONFIG_JOYSTICK_XPAD_FF=y
CONFIG_JOYSTICK_XPAD_LEDS=y
CONFIG_OPLUS_FEATURE_CHG_MISC=y
#endif

#ifdef OPLUS_FEATURE_TP_BASIC
CONFIG_SIM_DETECT=y
#endif

#ifdef OPLUS_FEATURE_FINGERPRINT
CONFIG_OPLUS_FINGERPRINT=y
CONFIG_OPLUS_FINGERPRINT_QCOM=y
CONFIG_OPLUS_FINGERPRINT_COMMON=y
CONFIG_OPLUS_FINGERPRINT_GOODIX=y
CONFIG_OPLUS_FINGERPRINT_FPC=y
CONFIG_OPLUS_FINGERPRINT_SILEAD=y
CONFIG_OPLUS_FINGERPRINT_JIIOV_OPTICAL=y
CONFIG_OPLUS_FINGERPRINT_JIIOV_CAPACITIVE=y
#endif /* OPLUS_FEATURE_FINGERPRINT  */

#ifdef OPLUS_FEATURE_POWERINFO_STANDBY
CONFIG_OPLUS_WAKELOCK_PROFILER=y
CONFIG_OPLUS_POWERINFO_STANDBY_DEBUG=y
CONFIG_OPLUS_POWERINFO_RPMH=y
CONFIG_OPLUS_POWERINFO_FTM=y

#2020/10/11 add for serial console in user/release image
CONFIG_SERIAL_MSM_GENI_CONSOLE=y
CONFIG_OPLUS_POWER_UTIL=y
#endif /* OPLUS_FEATURE_POWERINFO_STANDBY */

#ifdef OPLUS_FEATURE_TP_BASIC
CONFIG_NEW_LEDS=y
CONFIG_NEW_LEDS=y
CONFIG_LEDS_CLASS=y
CONFIG_LEDS_CLASS_FLASH=y
CONFIG_LEDS_TRIGGERS=y
CONFIG_LEDS_AW2023=y
CONFIG_OPLUS_MISC_HEALTHINFO=y
CONFIG_OPLUS_DEVICE_IFNO=y
CONFIG_TOUCHPANEL_CUSTOM=y
CONFIG_TOUCHPANEL_OPLUS=y
CONFIG_TOUCHIRQ_UPDATE_QOS=y
CONFIG_TOUCHPANEL_NOVA=y
CONFIG_TOUCHPANEL_NOVA_NT36672C_NOFLASH=y
CONFIG_TOUCHPANEL_NOVA_NT36523_NOFLASH=y
CONFIG_TOUCHPANEL_ILITEK=y
CONFIG_TOUCHPANEL_ILITEK_ILITEK7807S=y
CONFIG_TOUCHPANEL_SYNAPTICS=y
CONFIG_TOUCHPANEL_SYNAPTICS_TD4377_NOFLASH=y
CONFIG_TOUCHPANEL_NOTIFY=y
CONFIG_TOUCHPANEL_FOCAL=y
CONFIG_TOUCHPANEL_FOCAL_FT3518=y
CONFIG_TOUCHPANEL_GOODIX=y
CONFIG_TOUCHPANEL_GOODIX_GT9886=y
CONFIG_TOUCHPANEL_SYNAPTICS_TCM_S3910=y
CONFIG_TOUCHPANEL_FOCAL_FT3681=y
#endif /*OPLUS_FEATURE_TP_BASIC*/

#ifdef OPLUS_BUG_STABILITY
CONFIG_DRM_MSM=y
CONFIG_DRM_OPLUS_NOTIFY=y
#endif /* OPLUS_BUG_STABILITY */

#ifdef OPLUS_ARCH_EXTENDS
CONFIG_OPLUS_FEATURE_MM_FEEDBACK=y
#endif

#ifdef OPLUS_FEATURE_SENSOR_SMEM
CONFIG_OPLUS_FEATURE_SENSOR_CFG=y
#endif /* OPLUS_FEATURE_SENSOR_SMEM */

#ifdef OPLUS_FEATURE_SENSOR_DRIVER
CONFIG_OPLUS_SENSOR_FB_QC=y
#endif

#ifdef OPLUS_FEATURE_SENSOR_CONSUMER_IR
CONFIG_OPLUS_SENSOR_CONSUMER_IR_CORE=m
CONFIG_OPLUS_SENSOR_CONSUMER_IR_QC=m
#endif /* OPLUS_FEATURE_SENSOR_CONSUMER_IR */

#ifdef OPLUS_FEATURE_NFC_BRINGUP
CONFIG_NFC_ST21NFC=y
#endif OPLUS_FEATURE_NFC_BRINGUP

#ifdef OPLUS_FEATURE_NFC_BRINGUP
CONFIG_NFC_NQ=y
#endif OPLUS_FEATURE_NFC_BRINGUP
#ifdef OPLUS_FEATURE_NFC_BRINGUP
CONFIG_NFC_PN553_DEVICES=y
#endif OPLUS_FEATURE_NFC_BRINGUP

#ifdef OPLUS_FEATURE_SECURITY_COMMON
CONFIG_OPLUS_SECURE=y
CONFIG_OPLUS_SECURE_QCOM=y
CONFIG_OPLUS_SECURE_COMMON=y
CONFIG_SECURITY_SELINUX_DEVELOP=y
#endif /* OPLUS_FEATURE_SECURITY_COMMON */

#ifdef OPLUS_FEATURE_SECURITY_COMMON
CONFIG_MODULE_SIG=y
CONFIG_MODULE_SIG_FORCE=y
CONFIG_MODULE_SIG_ALL=y
CONFIG_MODULE_SIG_SHA512=y
#endif /* OPLUS_FEATURE_SECURITY_COMMON */

#ifdef OPLUS_FEATURE_CAMERA_COMMON
CONFIG_REGULATOR_QCOM_PM8008=y
CONFIG_REGULATOR_OPLUS_FAN53870=y
CONFIG_REGULATOR_OPLUS_WL2868C=y
#endif /*OPLUS_FEATURE_CAMERA_COMMON*/

#ifdef OPLUS_FEATURE_THERMAL_HORAE
CONFIG_HORAE_THERMAL_SHELL=y
#endif /* OPLUS_FEATURE_THERMAL_HORAE */

#ifdef OPLUS_FEATURE_UIFRIST
CONFIG_OPLUS_FEATURE_UIFRIST_HEAVYLOAD=y
#endif

#ifdef OPLUS_FEATURE_UIFRIST
CONFIG_CAMERA_OPT=y
#endif
#ifdef OPLUS_FEATURE_SCHED_ASSIST
CONFIG_OPLUS_FEATURE_SCHED_ASSIST=y
CONFIG_OPLUS_CRTC_COMMIT_MUTEX_OPT=y
CONFIG_OPLUS_FEATURE_AUDIO_OPT=y
CONFIG_OPLUS_FEATURE_AUDIO_CAMUX_OFF=y
CONFIG_OPLUS_RELEASE_BUFFER_CALLBACK_UX=y
CONFIG_OPLUS_UX_IM_FLAG=y
CONFIG_MMAP_LOCK_OPT=y
CONFIG_OPLUS_CPU_AUDIO_PERF=y
#endif
CONFIG_OPLUS_LOCKING_STRATEGY=y

#ifdef CONFIG_OPLUS_SECURE_GUARD
CONFIG_OPLUS_KERNEL_SECURE_GUARD=y
CONFIG_OPLUS_KERNEL_SECURE_KEVENTUPLOAD=y
#endif /*CONFIG_OPLUS_SECURE_GUARD*/

#ifdef OPLUS_FEATURE_WIFI_DHCP
CONFIG_OPLUS_FEATURE_WIFI_DHCP=y
#endif /* OPLUS_FEATURE_WIFI_DHCP */

#ifdef OPLUS_FEATURE_WIFI_BDF
CONFIG_OPLUS_FEATURE_WIFI_BDF=y
#endif /* OPLUS_FEATURE_WIFI_BDF */

#ifdef OPLUS_FEATURE_WIFI_MAC
CONFIG_OPLUS_FEATURE_WIFI_MAC=y
#endif /* OPLUS_FEATURE_WIFI_MAC */

#ifdef OPLUS_FEATURE_WIFI_LUCKYMONEY
CONFIG_OPLUS_FEATURE_WIFI_LUCKYMONEY=y
#endif /* OPLUS_FEATURE_WIFI_LUCKYMONEY */

#ifdef OPLUS_FEATURE_WIFI_SLA
#todo: need to change to m when GKI
CONFIG_OPLUS_FEATURE_WIFI_SLA=y
#endif /* OPLUS_FEATURE_WIFI_SLA */

CONFIG_NETFILTER_XT_TARGET_DSCP=y
CONFIG_NETFILTER_XT_MATCH_DSCP=y

#ifdef OPLUS_FEATURE_WIFI_LIMMITBGSPEED
CONFIG_OPLUS_FEATURE_WIFI_LIMMITBGSPEED=y
#endif /* OPLUS_FEATURE_WIFI_LIMMITBGSPEED */

#ifdef OPLUS_BUG_STABILITY
CONFIG_OPLUS_BUG_STABILITY=y
#endif /* OPLUS_BUG_STABILITY */

#ifdef OPLUS_FEATURE_TP_BASIC
CONFIG_OPLUS_FW_UPDATE=y
CONFIG_FW_LOADER_USER_HELPER=y
CONFIG_FW_LOADER_USER_HELPER_FALLBACK=y
#endif /*OPLUS_FEATURE_TP_BASIC*/

#ifdef OPLUS_FEATURE_NFC_GKI
CONFIG_OPLUS_NFC=y
CONFIG_NFC_QTI_I2C=y
#endif /* OPLUS_FEATURE_NFC_GKI */

#ifdef OPLUS_FEATURE_MODEM_MINIDUMP
CONFIG_OPLUS_FEATURE_MODEM_MINIDUMP=y
#endif

#ifdef OPLUS_FEATURE_RF_CALBLE
CONFIG_OPLUS_RF_CABLE_MONITOR=y
#endif /*OPLUS_FEATURE_RF_CABLE_DETECT*/

CONFIG_VIRTUAL_RESERVE_MEMORY=y
CONFIG_CRYPTO_LZ4=y
CONFIG_PGTABLE_MAPPING=y
CONFIG_PROCESS_RECLAIM_ENHANCE=y
CONFIG_CRYPTO_ZSTD=y
#ifdef OPLUS_FEATURE_RECORD_MDMRST
CONFIG_OPLUS_FEATURE_RECORD_MDMRST=y
#endif

CONFIG_PHYSICAL_ANTI_FRAGMENTATION=y

#ifdef OPLUS_STABILITY_BUG
CONFIG_LOG_CPU_MAX_BUF_SHIFT=17
CONFIG_LOG_BUF_SHIFT=21
###endif

#ifdef OPLUS_FEATURE_DATA_EVAL
CONFIG_OPLUS_FEATURE_DATA_EVAL=y
#endif /* OPLUS_FEATURE_DATA_VAL */

#ifdef OPLUS_FEATURE_TASK_CPUSTATS
CONFIG_OPLUS_CTP=y
CONFIG_OPLUS_SCHED=y
#endif /* OPLUS_FEATURE_TASK_CPUSTATS */

#ifdef OPLUS_FEATURE_XTOWNER_INPUT
CONFIG_OPLUS_FEATURE_XTOWNER_INPUT=y
#endif /*OPLUS_FEATURE_XTOWNER_INPUT*/

#ifdef OPLUS_FEATURE_APP_MONITOR
CONFIG_OPLUS_FEATURE_APP_MONITOR=y
#endif /* OPLUS_FEATURE_APP_MONITOR */

CONFIG_KMALLOC_DEBUG=y
CONFIG_VMALLOC_DEBUG=y
CONFIG_DUMP_TASKS_MEM=y
# CONFIG_SVELTE=y
CONFIG_DMABUF_PROC_INTERFACE=y

#ifdef OPLUS_FEATURE_HANS_FREEZE
CONFIG_OPLUS_FEATURE_HANS=y
#endif /*OPLUS_FEATURE_HANS_FREEZE*/
CONFIG_KVMALLOC_OPTIMIZATION=y
CONFIG_F2FS_BD_STAT=y
CONFIG_OPLUS_FEATURE_OF2FS=y
#CONFIG_F2FS_GRADING_SSR is not set
CONFIG_OPLUS_FEATURE_DETAILHEAD=y

#ifdef OPLUS_FEATURE_ACM
CONFIG_OPLUS_FEATURE_ACM=y
CONFIG_OPLUS_FEATURE_ACM_LOGGING=y
#endif /* OPLUS_FEATURE_ACM */

#ifdef OPLUS_FEATURE_HEALTHINFO
#CONFIG_OPLUS_MEM_MONITOR is not set
CONFIG_FG_TASK_UID=y
CONFIG_OPLUS_HEALTHINFO=y
CONFIG_SLUB_DEBUG=y
CONFIG_SCHEDSTATS=y
#endif /* OPLUS_FEATURE_HEALTHINFO */


#ifdef OPLUS_FEATURE_ION_BOOSTPOOL
#CONFIG_OPLUS_ION_BOOSTPOOL=y
#endif /* OPLUS_FEATURE_ION_BOOSTPOOL */

#CONFIG_OPLUS_FEATURE_LOWMEM_DBG is not set

#ifdef OPLUS_FEATURE_IM
#ted.lin@optimization add for im module
CONFIG_OPLUS_FEATURE_IM=y
#endif /* OPLUS_FEATURE_IM */

#ifdef OPLUS_FEATURE_MIDAS_GKI
CONFIG_OPLUS_FEATURE_MIDAS_GKI=m
#endif

#ifdef CONFIG_OPLUS_FEATURE_BINDER_STATS_ENABLE
CONFIG_OPLUS_FEATURE_BINDER_STATS_ENABLE=y
#endif

#ifdef OPLUS_FEATURE_CPUFREQ_BOUNCING
CONFIG_OPLUS_FEATURE_CPUFREQ_BOUNCING=y
#endif

#add for unbind kswapd to super max cpu
CONFIG_KSWAPD_UNBIND_MAX_CPU=y

#ifdef OPLUS_FEATURE_TPD
#CONFIG_OPLUS_FEATURE_TPD=y
#endif

#Add for NandSwap
#CONFIG_NANDSWAP=y
#CONFIG_NANDSWAP_DEBUG=y

CONFIG_CAMERA_EXTLDO_WL2868C=y

#ifdef OPLUS_FEATURE_DATA_LIMIT
CONFIG_IFB=y
CONFIG_NET_SCH_MULTIQ=y
CONFIG_NET_SCH_NETEM=y
CONFIG_CLS_U32_MARK=y
CONFIG_NET_CLS_FLOW=y
CONFIG_NET_EMATCH_CMP=y
CONFIG_NET_EMATCH_NBYTE=y
CONFIG_NET_EMATCH_META=y
CONFIG_NET_EMATCH_TEXT=y
CONFIG_NET_ACT_GACT=y
CONFIG_NET_ACT_MIRRED=y
CONFIG_NET_ACT_SKBEDIT=y
#endif /* OPLUS_FEATURE_DATA_LIMIT */

#ifdef OPLUS_FEATURE_DNS_HOOK
CONFIG_OPLUS_FEATURE_DNS_HOOK=y
#endif /* OPLUS_FEATURE_DNS_HOOK */

#ifdef OPLUS_FEATURE_PARAM_READ_WRITE
CONFIG_PARAM_READ_WRITE=y
#endif
CONFIG_OPLUS_GPIO=y
#endif /* OPLUS_FEATURE_ESIM */

CONFIG_DYNAMIC_TUNNING_SWAPPINESS=y
CONFIG_OPLUS_FEATURE_EROFS=y

CONFIG_THERMAL_EMERGENCY_POWEROFF_DELAY_MS=10000

#CONFIG_ZRAM=y
CONFIG_OPLUS_FEATURE_ZRAM_OPT=y
#ifdef OPLUS_FEATURE_HYBRIDSWAP
CONFIG_HYBRIDSWAP=y
CONFIG_HYBRIDSWAP_SWAPD=y
CONFIG_HYBRIDSWAP_CORE=y
#endfi

CONFIG_CRYPTO_CHACHA20POLY1305=y
CONFIG_CRYPTO_XCBC=y

#ifdef OPLUS_FEATURE_MDMFEATURE
CONFIG_OPLUS_FEATURE_MDMFEATURE=y
#endif

CONFIG_OPLUS_FEATURE_QCOM_SMEM_INTI=y

CONFIG_OPLUS_FEATURE_WIFI_SMARTANTENNA=m

#ifdef OPLUS_FEATURE_STATS_CALC
CONFIG_OPLUS_FEATURE_STATS_CALC=y
#endif /* OPLUS_FEATURE_STATS_CALC */
CONFIG_INPUT_HALL_SENSOR=y

CONFIG_OPLUS_FEATURE_WIFI_CAPCENTER=n
#End

CONFIG_OPLUS_FEATURE_WIFI_OPLUSWFD=n
#End

#add haptic_hv
#CONFIG_AW8697_HAPTIC is not set
#ifdef OPLUS_FEATURE_GAME_OPT
CONFIG_OPLUS_FEATURE_GAME_OPT=y
#endif
#Add for fdleak with less performance impact
CONFIG_OPLUS_FEATURE_FDLEAK_CHECK=y

CONFIG_KSHRINK_LRUVECD=y
CONFIG_KSHRINK_SLABD=y
CONFIG_OPLUS_FEATURE_OLC=y
CONFIG_LOCKING_PROTECT=y
CONFIG_LOOK_AROUND=y

CONFIG_OPLUS_FEATURE_INIT_WATCHDOG=y

CONFIG_OPLUS_FEATURE_DATA_MODULE=y

CONFIG_OPLUS_FEATURE_MM_OSVELTE=y

CONFIG_QCA_CLD_WLAN=m
